<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<ScrollPane fitToWidth="true" fitToHeight="true"
            styleClass="root-pane"
            stylesheets="@../css/styles.css"
            xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.example.controller.RegisterController">
    <VBox alignment="CENTER" minHeight="700.0" prefWidth="1200.0"
           styleClass="root-pane">
        <HBox alignment="CENTER" spacing="0.0"
              minHeight="700.0" prefWidth="1200.0">
            <VBox alignment="CENTER"
                  prefWidth="600.0" prefHeight="700.0"
                  styleClass="glass-panel-container">
                <padding>
                    <Insets left="80.0" right="80.0" top="40.0" bottom="40.0"/>
                </padding>
                <VBox alignment="CENTER" spacing="20.0"
                      styleClass="glass-pane frosted-card"
                      maxWidth="440.0">
                    <padding>
                        <Insets top="40.0" left="50.0" right="50.0" bottom="40.0"/>
                    </padding>
                    <VBox alignment="CENTER" spacing="8.0" styleClass="title-block">
                        <Label styleClass="app-title" text="Create Account"/>
                        <Label styleClass="app-subtitle"
                               text="Join us to track your expenses"/>
                    </VBox>
                    <VBox spacing="18.0">
                        <VBox.margin>
                            <Insets top="5.0"/>
                        </VBox.margin>
                        <VBox spacing="8.0">
                            <Label text="Full Name" styleClass="field-label"/>
                            <TextField fx:id="nameField"
                                       promptText="Enter your full name"
                                       styleClass="modern-textfield"
                                       prefHeight="45.0"/>
                        </VBox>
                        <VBox spacing="8.0">
                            <Label text="Email Address" styleClass="field-label"/>
                            <TextField fx:id="emailField"
                                       promptText="Enter your email"
                                       styleClass="modern-textfield"
                                       prefHeight="45.0"/>
                        </VBox>
                        <VBox spacing="8.0">
                            <Label text="Password" styleClass="field-label"/>
                            <PasswordField fx:id="passwordField"
                                          promptText="Create a password"
                                          styleClass="modern-textfield"
                                          prefHeight="45.0"/>

                            <HBox spacing="5.0" alignment="CENTER_LEFT">
                                <HBox fx:id="strengthBar1" prefWidth="60.0" prefHeight="4.0" style="-fx-background-color: rgba(255,255,255,0.2); -fx-background-radius: 2;"/>
                                <HBox fx:id="strengthBar2" prefWidth="60.0" prefHeight="4.0" style="-fx-background-color: rgba(255,255,255,0.2); -fx-background-radius: 2;"/>
                                <HBox fx:id="strengthBar3" prefWidth="60.0" prefHeight="4.0" style="-fx-background-color: rgba(255,255,255,0.2); -fx-background-radius: 2;"/>
                                <HBox fx:id="strengthBar4" prefWidth="60.0" prefHeight="4.0" style="-fx-background-color: rgba(255,255,255,0.2); -fx-background-radius: 2;"/>
                                <Label fx:id="strengthLabel" text="" style="-fx-text-fill: rgba(255,255,255,0.7); -fx-font-size: 11px; -fx-padding: 0 0 0 10;"/>
                            </HBox>
                        </VBox>
                        <VBox spacing="8.0">
                            <Label text="Confirm Password" styleClass="field-label"/>
                            <PasswordField fx:id="confirmPasswordField"
                                          promptText="Re-enter your password"
                                          styleClass="modern-textfield"
                                          prefHeight="45.0"/>
                        </VBox>
                        <VBox spacing="8.0">
                            <Label text="Account Type" styleClass="field-label"/>
                            <HBox spacing="25.0" alignment="CENTER_LEFT">
                                <padding>
                                    <Insets left="10.0" top="5.0"/>
                                </padding>
                                <fx:define>
                                    <ToggleGroup fx:id="roleGroup"/>
                                </fx:define>
                                <RadioButton fx:id="normalUserRadio"
                                            text="Normal User"
                                            toggleGroup="$roleGroup"
                                            selected="true"
                                            styleClass="modern-radio"/>
                                <RadioButton fx:id="parentUserRadio"
                                            text="Parent Account"
                                            toggleGroup="$roleGroup"
                                            styleClass="modern-radio"/>
                            </HBox>
                        </VBox>
                        <Label fx:id="errorLabel"
                               styleClass="error-label"
                               text=""
                               wrapText="true"
                               visible="false"
                               managed="false"/>
                    </VBox>
                    <VBox alignment="CENTER" spacing="12.0">
                        <VBox.margin>
                            <Insets top="5.0"/>
                        </VBox.margin>
                        <Button fx:id="registerButton"
                                onAction="#handleRegister"
                                styleClass="primary-button glossy-button"
                                text="Create Account"
                                prefWidth="340.0" prefHeight="48.0"/>
                        <HBox alignment="CENTER" spacing="8.0">
                            <Label text="Already have an account?" styleClass="link-label"/>
                            <Label text="Login here"
                                   styleClass="link-label-clickable"
                                   onMouseClicked="#handleGoToLogin"
                                   underline="true"/>
                        </HBox>
                        <Button fx:id="backButton"
                                onAction="#handleBack"
                                styleClass="secondary-button glass-button"
                                text="Back to Home"
                                prefWidth="340.0" prefHeight="44.0"/>
                    </VBox>
                </VBox>
            </VBox>
            <VBox alignment="CENTER"
                  prefWidth="600.0" prefHeight="700.0"
                  styleClass="right-panel">
                    <VBox alignment="CENTER" spacing="20.0" styleClass="hero-graphic">
                        <padding>
                            <Insets left="60.0" right="60.0"/>
                        </padding>
                        <HBox alignment="CENTER" styleClass="login-icon-container" prefWidth="200.0" prefHeight="200.0">
                            <Label text="ðŸ“" style="-fx-font-size: 100px;"/>
                        </HBox>
                        <Label text="Join Us Today" styleClass="hero-title"/>
                        <Label text="Create your account and start managing your expenses with ease"
                               styleClass="hero-subtitle"
                               wrapText="true"
                               textAlignment="CENTER"
                               maxWidth="400.0"/>
                    </VBox>
            </VBox>
        </HBox>
    </VBox>
</ScrollPane>
